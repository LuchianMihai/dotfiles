#!/bin/sh

if [ -d "$XDG_DATA_HOME/.stm32cubemx" ] && 
   [ -d "$XDG_DATA_HOME/.stmcube" ] && 
   [ -d "$XDG_DATA_HOME/.stmcufinder" ] 
then
   mv -f "$XDG_DATA_HOME/.stm32cubemx" "$HOME/.stm32cubemx"
   mv -f "$XDG_DATA_HOME/.stmcube" "$HOME/.stmcube"
   mv -f "$XDG_DATA_HOME/.stmcufinder" "$HOME/.stmcufinder"
   /usr/bin/stm32cubemx
   mv "$HOME/.stm32cubemx" "$XDG_DATA_HOME/.stm32cubemx"
   mv "$HOME/.stmcube" "$XDG_DATA_HOME/.stmcube"
   mv "$HOME/.stmcufinder" "$XDG_DATA_HOME/.stmcufinder"
else
   /usr/bin/stm32cubemx
   mv "$HOME/.stm32cubemx" "$XDG_DATA_HOME/.stm32cubemx"
   mv "$HOME/.stmcube" "$XDG_DATA_HOME/.stmcube"
   mv "$HOME/.stmcufinder" "$XDG_DATA_HOME/.stmcufinder"
fi
